<link rel<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">

<dom-module id="my-presentie">
  <template>
    <style>
      :host {
        display: block;
      }
      paper-dropdown-menu, paper-listbox {
	    width: 100px;
	    font-size: 12px;
	  }
      .my-title {
        font-size: 20px;
        color: blue;
        border-bottom: 1px solid red; /*#1a9fd9; */  /* a red line */
        padding-bottom: 2px;                         /* space above the border line */
      }
      .my-detail {
        font-size: 12px;
        margin-bottom: 0px;
        margin-left: 10px;
      }
      .my-input {
        max-width: 150px;
      }
      .my-type {
		margin-left: 20px;
		padding:0px;
      }
      .my-line {
         display: flex;
         allign-items: left;
      }
      .my-label {
         width: 200px;                     /* default width, but can become smaller and wraps two to lines */
         min-width: 80px;                /* width, but can not become smaller after wrapping */
      }
      .my-label2 {
        min-width: 20px;                 /* default width, but can not become smaller, nor wrapping */
      }
      .my-value {
        width: 400px;                      /* default width, but can become smaller and wraps two to lines */
        min-width: 180px;               /* width, but can not become smaller after wrapping */
      }
      .my-button {
        position:absolute;
	    bottom:4px;
	    right:0;
      }
      .my-button2 {
        position:absolute;
	    bottom:4px;
	    right:100px;
      }
    </style>

    <div class="my-title">Presentielijst</div>
    <div class="my-line">
        <span class="my-label">Klassenlijst V1E </span>
        <span class="my-type"></span>
        </div>

        <!-- <template is="dom-bind">
  <iron-ajax url="webapp/app/src/my-presentie/data.json" last-response="{{data}}" auto></iron-ajax>
  <iron-data-table items="[[data]]">
    <data-table-column name="First Name">
      <template>[[item.name.first]]</template>
    </data-table-column>
    <data-table-column name="Last Name">
      <template>[[item.name.last]]</template>
    </data-table-column>
  </iron-data-table>
</template> -->

    <template is="dom-repeat" items="{{studenten}}">
        <div><table style="width:30%"><tr><td align="left"><span>{{item.number}} </span></td><td align="right"><span>{{item.name}} </span></td><td align="right"><span class="my-type"><paper-dropdown-menu>
		  <paper-listbox class="dropdown-content" selected={{item.type}} attr-for-selected="data-value">
		    <paper-item data-value="aanwezig">Aanwezig</paper-item>
		    <paper-item data-value="afwezig">Afwezig</paper-item>
		    <paper-item data-value="afgemeld">Afgemeld</paper-item>
		  </paper-listbox>
		</paper-dropdown-menu></span></td></tr></table>
		</div>
    </template>

      <paper-button
      id="annuleren_button"
      class="my-button"
      on-click="_annuleer"
      raised>
        Annuleer
    </paper-button>
    <paper-button
      id="verzenden_button"
      class="my-button2"
      on-click="_verzenden"
      raised>
        Verzenden
    </paper-button>


    <iron-ajax
      id="ajax_presentie_ophalen"
      method="POST"
      url="/student/medestudenten/ophalen"
      handle-as="json"
      on-response="_presentie_ophalen">
    </iron-ajax>

  </template>

  <script>
    Polymer({
      is: 'my-presentie',

      ready: function() {
      //Json file inlezen
        this.studenten = [
            // {number: '1704102', name: 'Bakker, Martijn', type: 'aanwezig'},
            // {number: '1702265', name: 'Abdoel, Shafie', type: 'afwezig'},
            // {number: '1698311', name: 'Henkes, Wessel', type: 'afwezig'},
            // {number: '1698194', name: 'Daalhuisen, Niels', type: 'aanwezig'},
            // {number: '1705632', name: 'Diederen, Michiel' type: 'afgemeld'},
            // {number: '1704412', name: 'Ende,van der,Tjibbe', type: 'afwezig'},
            // {number: '1657627', name: 'Holslag, Ruben', type: 'afgemeld'}

            {number: '1702265', name: 'Abdoel, Shafie       ', type: 'aanwezig'},
            {number: '1704102', name: 'Bakker, Martijn      ', type: 'afwezig'},
            {number: '1710314', name: 'Brakel,van,Niels     ', type: 'aanwezig'},
            {number: '1698194', name: 'Daalhuisen, Niels    ', type: 'aanwezig'},
            {number: '1705632', name: 'Diederen, Michiel    ', type: 'aanwezig'},
            {number: '1704412', name: 'Ende,van der,Tjibbe  ', type: 'afgemeld'},
            {number: '1698311', name: 'Henkes, Wessel       ', type: 'aanwezig'},
            {number: '1657627', name: 'Holslag, Ruben       ', type: 'aanwezig'},
            {number: '1703385', name: 'Hoogeland, Tim       ', type: 'aanwezig'},
            {number: '1699291', name: 'Houweling, Meifeng   ', type: 'aanwezig'},
            {number: '1696814', name: 'Kasap, Yasin         ', type: 'aanwezig'},
            {number: '1710479', name: 'Koningsveld,van,Nynke', type: 'aanwezig'},
            {number: '1703511', name: 'Kos, Lourens         ', type: 'afwezig'},
            {number: '1658950', name: 'Lanser, Mark         ', type: 'aanwezig'},
            {number: '1704271', name: 'Looman, Jerry        ', type: 'aanwezig'},
            {number: '1668229', name: 'Mooy, Michiel        ', type: 'aanwezig'},
            {number: '1701957', name: 'Mudde, Ezri          ', type: 'aanwezig'},
            {number: '1705943', name: 'Schepers, Douwe      ', type: 'aanwezig'},
            {number: '1665013', name: 'Smithjes, Guylian    ', type: 'afgemeld'},
            {number: '1702623', name: 'Steenbrink, Steven   ', type: 'aanwezig'},
            {number: '1684994', name: 'Verkerk, Jeroen      ', type: 'aanwezig'},
            {number: '1706382', name: 'Voncken, Cedric      ', type: 'aanwezig'},
            {number: '1696546', name: 'Vruggink, Sam        ', type: 'aanwezig'},
            {number: '1703684', name: 'Waard,de,Mats        ', type: 'aanwezig'},
            {number: '1707132', name: 'Zandberg, Renske     ', type: 'aanwezig'}
        ];
      },

      _annuleer: function() {
          var lApp = document.querySelector('my-app');
          var lAppRouter = lApp.$.approuter;
          lAppRouter.data={page: ""};
         },
      _verzenden:function() {
			this.name = "hoi";
         }

    });
  </script>
</dom-module>
